(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[915],{41143:function(e){"use strict";e.exports=function(e,n,t,r,i,o,a,u){if(!e){var l;if(void 0===n)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=[t,r,i,o,a,u],c=0;(l=new Error(n.replace(/%s/g,(function(){return s[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},6830:function(e,n,t){"use strict";t.d(n,{Z:function(){return q}});var r=t(49711),i=t(94184),o=t.n(i),a=t(67294),u=t(70655),l=t(76627),s=t.n(l),c=t(69823),f=(t(48851),{container:"_e08cv5"}),d=t(75280),v=a.forwardRef((function(e,n){var t=e.defaultValue,r=e.value,i=e.mask,o=e.placeholder,l=e.className,v=e.onChange,h=(0,u._T)(e,["defaultValue","value","mask","placeholder","className","onChange"]),p=(0,u.CR)(a.useState(r||t),2),g=p[0],m=p[1],E=(0,c.NJ)(),b=(0,c.yK)(f)(l,"container"),k=a.useMemo((function(){return(0,u.pi)((0,u.pi)({},E),h)}),[h,E]);return a.useEffect((function(){(0,c.$K)(r)&&m(r)}),[r]),a.createElement("div",{"data-qa":"MaskInput",className:b},a.createElement(s(),(0,u.pi)({mask:i,value:g,onChange:function(e){m(e.currentTarget.value),(0,c.DL)(v,e)}},k),a.createElement(d.Z,{ref:n,placeholder:o})))}));v.defaultProps={};var h,p=v,g=t(55639),m=t(76266),E=t(3371),b=t(63554),k=t(68023),O=t(47634),w=a.forwardRef((function(e,n){return a.createElement("svg",(0,u.pi)({ref:n,"data-qa":"Shield",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),a.createElement("path",{d:"M16.667 9.318c0 3.784-2.845 7.323-6.667 8.182-3.823-.86-6.667-4.398-6.667-8.182V6.346c0-.677.41-1.287 1.036-1.543l4.167-1.705a3.864 3.864 0 0 1 2.928 0l4.167 1.705a1.667 1.667 0 0 1 1.036 1.543v2.972Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),a.createElement("path",{d:"m12.708 8.438-3.125 3.124-1.875-1.874",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}))}));!function(e){e.SEND_PHONE="sendPhone",e.REQUEST_CODE="requestCode",e.SEND_CODE="sendCode",e.VERIFIED="verified",e.AUTH="auth",e.DONE="done"}(h||(h={}));var y=t(1049),P=t(30266),S=t(92809),C=t(809),D=t.n(C),_=t(42453),N=t(29089),j=function(){var e=(0,P.Z)(D().mark((function e(n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.Z.post("/zaimy/api/signing/code",n));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),x=function(){var e=(0,P.Z)(D().mark((function e(n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",N.Z.post("/zaimy/api/signing/verify",n));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),V=function(e,n){var t=a.useRef(null);a.useEffect((function(){t.current=e})),a.useEffect((function(){var e=setInterval((function(){null!==t.current&&t.current()}),n);return function(){return clearInterval(e)}}),[n])};function L(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function A(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?L(Object(t),!0).forEach((function(n){(0,S.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):L(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var R={},F=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.onFinish,i=n.requestTries,o=void 0===i?3:i,u=n.countdown,l=void 0===u?60:u,s=a.useState(h.SEND_PHONE),c=(0,r.Z)(s,2),f=c[0],d=c[1],v=a.useState({}),p=(0,r.Z)(v,2),g=p[0],m=p[1],E=a.useState(""),b=(0,r.Z)(E,2),k=b[0],O=b[1],w=(0,a.useCallback)((function(e,n,t){var r=A({},g);null!==n?r[e]=A(A({},g[e]),n):delete r[e],m(r),t&&d(t)}),[g,m]);V((function(){var e,n;g[h.SEND_CODE]&&w(h.SEND_CODE,{countdown:((null===g||void 0===g||null===(e=g[h.SEND_CODE])||void 0===e?void 0:e.countdown)||0)-1,activeInterval:((null===g||void 0===g||null===(n=g[h.SEND_CODE])||void 0===n?void 0:n.countdown)||0)-1>0})}),null!==g&&void 0!==g&&null!==(e=g[h.SEND_CODE])&&void 0!==e&&e.activeInterval?1e3:null);var y=function(){var e=(0,P.Z)(D().mark((function e(n,t,r){var i,a,u,l,s,c;return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&t&&f===h.SEND_CODE){e.next=2;break}return e.abrupt("return");case 2:if(!(R[n]>=o)){e.next=4;break}throw Error("sms requests limit by ".concat(n));case 4:return k&&k===n||O(n),e.prev=5,e.next=8,x({phone:n,code:t});case 8:i=e.sent,a=i.data,u=a.username,l=a.otac,w(h.SEND_CODE,{isValid:!0,data:{username:u,otac:l}},h.VERIFIED),null===r||void 0===r||r(),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(5),s=e.t0.data,c=e.t0.message,w(h.SEND_CODE,{isValid:!1,data:s,message:c});case 21:case"end":return e.stop()}}),e,null,[[5,16]])})));return function(n,t,r){return e.apply(this,arguments)}}(),S=function(){var e=(0,P.Z)(D().mark((function e(n){return D().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&[h.SEND_PHONE,h.SEND_CODE].includes(f)){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,w(h.SEND_PHONE,{sendingRequest:!0}),e.next=6,j({phone:n});case 6:w(h.SEND_PHONE,{isValid:!0},h.SEND_CODE),w(h.SEND_CODE,{countdown:l,activeInterval:!0}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),w(h.SEND_PHONE,{isValid:!1});case 13:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(n){return e.apply(this,arguments)}}(),C=function(){w(h.SEND_CODE,null,h.SEND_PHONE)},N=function(){g[h.SEND_CODE]&&w(h.SEND_CODE,{isValid:!0})};return a.useEffect((function(){if(f===h.VERIFIED){var e;d(h.AUTH);var n=(null===g||void 0===g||null===(e=g[h.SEND_CODE])||void 0===e?void 0:e.data)||{},t=n.username,r=n.otac,i=(0,_.Zd)({hint:t,ot:"phone",otac:r});window.open(i,"_top")}}),[f,d,g,w,t]),[{state:f,data:g},S,y,C,N]};function I(e){return null!=e&&(!!(Array.isArray(e)&&e.length>0)||("object"!==typeof e||Object.entries(e).length>0))}var M=function(){var e=function(){var e;return null!==(e=navigator.userAgent)&&void 0!==e?e:navigator.vendor}();return void 0!==e&&-1!==e.toLowerCase().indexOf("iphone")},B=t(90975),T=t.n(B),Z=t(85893),z=k.X,H=O.x,q=function(e){var n=e.visible,t=e.className,i=e.onFinish,u=e.onClose,l=(0,c.dD)(),s=(0,a.useState)(!0),f=s[0],d=s[1],v=(0,a.useState)(""),k=v[0],O=v[1],P=(0,a.useState)(!1),S=P[0],C=P[1],D=(0,a.useState)(""),_=D[0],N=D[1],j=(0,a.useState)(!1),x=j[0],V=j[1],L=F({onFinish:i}),A=(0,r.Z)(L,5),R=A[0].state,B=A[1],q=A[2],U=A[3],Q=A[4],G=(0,a.useState)(0),W=G[0],X=G[1],Y=(0,a.useRef)(null);!function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],t=I(e)&&n&&M(),r=(0,a.useCallback)((function(){var n;if(t&&"function"===typeof(null===e||void 0===e?void 0:e.getBoundingClientRect)){var r=e.getBoundingClientRect();if(window.visualViewport.height+r.height<(null===(n=window)||void 0===n?void 0:n.innerHeight)){var i,o=(null===(i=window)||void 0===i?void 0:i.innerHeight)-window.visualViewport.height;e.style.bottom="".concat(o,"px")}else e.style.bottom="".concat(0,"px")}}),[e,t]),i=(0,a.useCallback)((function(){if(t){var n,r=(null===(n=window)||void 0===n?void 0:n.innerHeight)-window.visualViewport.height-window.scrollY;e.style.bottom="".concat(r>0?r:0,"px")}}),[e,t]);(0,a.useEffect)((function(){return window.visualViewport.addEventListener("resize",r),window.visualViewport.addEventListener("scroll",i),function(){window.removeEventListener("resize",r),window.removeEventListener("scroll",i)}}),[i,r])}(Y.current,!0),(0,c.Yz)((function(){X((function(e){return e-1}))}),W?1e3:null);var K=(0,a.useCallback)((function(e){d(!(12===e.length))}),[d]),J=(0,a.useCallback)((function(e){var n=e.currentTarget.value.replace(/[^0-9]/g,"").replace(/^7/,"+7");K(n),O(n)}),[O,K]),$=(0,a.useCallback)((function(e,n,t){var r=0;return n.replace(new RegExp(t,"g"),(function(){return e[r++]}))}),[]),ee=(0,a.useCallback)((function(){C(!1)}),[C]),ne=(0,a.useCallback)((function(){C(!0)}),[C]),te=(0,a.useCallback)((function(e){var n=e.currentTarget.value.replace("_","");N(n),4===n.length&&(V(!0),q(k,n,(function(){(0,y.xO)()})))}),[q,k]),re=(0,a.useCallback)((function(){U()}),[U]),ie=(0,a.useCallback)((function(){R===h.SEND_CODE&&Q(),B(k),X(30)}),[R,B,k,Q]),oe=(0,a.useMemo)((function(){return(0,Z.jsx)("div",{className:T().phoneBlock,children:(0,Z.jsxs)("div",{children:[(0,Z.jsx)(p,{label:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d",mask:"+7 (999) 999-99-99",onChange:J,onFocus:ne,onBlur:ee,value:k,invalid:f&&!S&&Boolean(k.length)}),(0,Z.jsxs)("div",{className:T().message,children:[(0,Z.jsx)(g.Z,{className:"h-mr-12 h-color-B100",icon:(0,Z.jsx)(w,{})}),(0,Z.jsx)(H,{children:"\u041d\u0438\u043a\u0430\u043a\u043e\u0433\u043e \u0441\u043f\u0430\u043c\u0430 \u0438 \u0437\u0432\u043e\u043d\u043a\u043e\u0432"})]})]})})}),[S,ee,J,ne,f,k]),ae=(0,a.useMemo)((function(){return(0,Z.jsx)(m.Z,{variant:"primary",onClick:ie,className:T().button,children:"\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043a\u043e\u0434"})}),[ie]),ue=(0,a.useMemo)((function(){return(0,Z.jsx)("div",{className:T().phoneBlock,children:(0,Z.jsxs)("div",{children:[(0,Z.jsxs)(H,{className:o()("h-color-B100",T().changePhone),onClick:re,children:[" ","\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430"," "]}),(0,Z.jsx)(p,{className:T().input,label:"\u041a\u043e\u0434 \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f",mask:"9999",onChange:te,value:_,loading:x,autocomplete:"one-time-code",androidAutofillHints:"smsOTPCode",androidImportantForAutofill:"yes"}),(0,Z.jsxs)("div",{className:T().message,children:[(0,Z.jsx)(g.Z,{className:"h-mr-12 h-color-B100",icon:(0,Z.jsx)(w,{})}),(0,Z.jsx)(H,{children:"\u041d\u0438\u043a\u0430\u043a\u043e\u0433\u043e \u0441\u043f\u0430\u043c\u0430 \u0438 \u0437\u0432\u043e\u043d\u043a\u043e\u0432"})]})]})})}),[_,te,re,x]),le=(0,a.useMemo)((function(){return(0,Z.jsxs)(m.Z,{className:T().button,color:"gray",variant:"primary",disabled:W>0,onClick:ie,children:["\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u043a\u043e\u0434 ",W?"\u0447\u0435\u0440\u0435\u0437 ".concat(W):null]})}),[ie,W]);return(0,Z.jsxs)(E.V,{className:o()(T().wrapper,t),visible:n,fullscreen:l,onClose:u,children:[(0,Z.jsx)(E.V.Header,{children:(0,Z.jsxs)("div",{className:T().header,children:[(0,Z.jsxs)(z,{level:3,children:[R===h.SEND_PHONE?"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430":"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0434 \u0438\u0437 \u0421\u041c\u0421"," "]}),(0,Z.jsx)(H,{size:12,className:"h-color-D60 h-mt-4",children:R===h.SEND_PHONE?"\u041c\u044b \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u043c \u0432\u0430\u0448 \u0432\u044b\u0431\u043e\u0440 \u0438 \u043f\u043e\u0434\u0431\u0435\u0440\u0435\u043c \u043f\u0435\u0440\u0441\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043f\u0440\u0435\u0434\u043b\u043e\u0436\u0435\u043d\u0438\u044f":"      \u0412 \u0442\u0435\u0447\u0435\u043d\u0438\u0435 \u043f\u0430\u0440\u044b \u043c\u0438\u043d\u0443\u0442 \u043d\u0430 \u043d\u043e\u043c\u0435\u0440 ".concat($(k.replace("+7",""),"+7 (999) 999-99-99","9"),"\n                    \u043f\u0440\u0438\u0434\u0451\u0442 \u0421\u041c\u0421 \u0441 \u043a\u043e\u0434\u043e\u043c \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f")})]})}),(0,Z.jsx)(E.V.Content,{className:T().content,children:R===h.SEND_PHONE?oe:ue}),(0,Z.jsx)(E.V.Footer,{ref:Y,className:"".concat(T().footer," ").concat(M()?T()["footer-sticky"]:""),children:(0,Z.jsx)(b.Z,{justify:"space-between",children:R===h.SEND_PHONE?ae:le})})]})}},30390:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var r=t(41609),i=t.n(r),o=t(67294),a=t(61635),u=t(27342),l=t(73701),s=t(1049),c=t(53998),f=t(51121);function d(){var e=(0,f.oD)(f.jf.SIDEBAR_BANNER).items,n=void 0===e?[]:e;return(0,o.useMemo)((function(){return n[0]}),[n])}var v=t(85893),h=(0,o.memo)((function(){var e,n,t,r,i,a,f,h,p,g=d(),m=(0,c.q)(null===g||void 0===g||null===(e=g.advertising)||void 0===e||null===(n=e.monetization)||void 0===n?void 0:n.pixels.click,{name:null===g||void 0===g?void 0:g.name,sub:null===g||void 0===g||null===(t=g.advertising)||void 0===t?void 0:t.advSub,source:"sidebar",type:null===g||void 0===g||null===(r=g.advertising)||void 0===r?void 0:r.productType,organizationName:null===g||void 0===g||null===(i=g.organization)||void 0===i?void 0:i.name}),E=(0,o.useMemo)((function(){var e,n;return{organization:{name:{short:null===g||void 0===g||null===(e=g.organization)||void 0===e?void 0:e.name,full:null===g||void 0===g||null===(n=g.organization)||void 0===n?void 0:n.fullName}},advertising:null===g||void 0===g?void 0:g.advertising,logo:g.organization.logotypes.android}}),[g]),b=(0,o.useMemo)((function(){var e,n,t;return(0,v.jsx)(l.J,{link:null===g||void 0===g||null===(e=g.advertising)||void 0===e||null===(n=e.monetization)||void 0===n?void 0:n.pixels.display,name:null===g||void 0===g?void 0:g.name,organizationName:null===g||void 0===g||null===(t=g.organization)||void 0===t?void 0:t.name,source:"sidebar"})}),[null===g||void 0===g?void 0:g.name,null===g||void 0===g||null===(a=g.advertising)||void 0===a||null===(f=a.monetization)||void 0===f?void 0:f.pixels.display,null===g||void 0===g||null===(h=g.organization)||void 0===h?void 0:h.name]),k=(0,o.useCallback)((function(){var e;(0,s.yB)("".concat(g.organization.name,"|").concat(g.name),null===g||void 0===g||null===(e=g.advertising)||void 0===e?void 0:e.cost),m&&window.open(m,"_blank")}),[null===g||void 0===g||null===(p=g.advertising)||void 0===p?void 0:p.cost,g.name,g.organization.name,m]);return(0,v.jsx)(u.cB,{bannerData:E,onClick:k,displayPixel:b})})),p=t(83804),g=t(11219),m=t(57732),E=t(92202),b=function(e){var n=e.enabledTypes,t=void 0===n?[g.L.SIDEBAR]:n,r=(0,E._z)(),u=(0,o.useState)(!1),l=u[0],s=u[1],c=d(),f=(0,m.Um)(),b=(0,m.WQ)();if((0,o.useEffect)((function(){var e=setTimeout((function(){s(!0)}),1e4);return function(){return clearTimeout(e)}}),[]),!((l||r)&&b))return null;var k=f[p.pl];return(0,v.jsxs)(v.Fragment,{children:[t.includes(g.L.OUT_OF_PAGE)&&!i()(k)&&(0,v.jsx)(a.j,{banner:k,type:a.E.OUT_OF_PAGE,abName:""}),t.includes(g.L.SIDEBAR)&&!i()(c)&&(0,v.jsx)(h,{})]})}},68543:function(e,n,t){"use strict";t.d(n,{U:function(){return s}});var r=t(30266),i=t(809),o=t.n(i),a=t(96440),u=t(70629),l=t(51121),s=function(){var e=(0,r.Z)(o().mark((function e(n){var t,r,i,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.store.dispatch,r=n.params.locationRoute,i=(0,u.Qc)({location:r,defaultValues:a.Sq[a.EH.SIDEBAR_BANNER],query:"",scheme:a.pZ}),s={[a.ps.LOCATION]:r},e.next=5,t((0,l.yl)({key:l.jf.SIDEBAR_BANNER,query:i,params:s}));case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},11219:function(e,n,t){"use strict";var r;t.d(n,{L:function(){return r}}),function(e){e.OUT_OF_PAGE="OUT_OF_PAGE",e.SIDEBAR="SIDEBAR"}(r||(r={}))},77821:function(e,n,t){"use strict";t.d(n,{s:function(){return b}});var r=t(92809),i=t(11163),o=t(67294),a=t(92145),u=t(69823),l=t(96440),s=t(28546),c=t(82510),f=t(51121),d=t(78444),v=t(18440),h=t(39036),p=t(13947);function g(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function m(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?g(Object(t),!0).forEach((function(n){(0,r.Z)(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):g(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}var E={[f.jf.LIST]:l.Sq[l.EH.DEFAULT],[f.jf.CALCULATOR]:l.Sq[l.EH.CALCULATOR],[f.jf.ONLINE]:l.Sq[l.EH.ONLINE]},b=function(e){var n=(0,u.dD)(),t=(0,i.useRouter)(),r=t.asPath,l=t.query,g=(0,p.KN)(r,l),b=E[e]||{},k=(0,v.b9)(),O=k.filters,w=void 0===O?{}:O,y=k.seo,P=k.pathname,S=(0,d.fd)(),C=(0,c.he)(),D=(0,a.v9)(f.fy),_=(0,o.useMemo)((function(){return(0,h.UQ)(D,C)}),[D,C]),N=(0,o.useMemo)((function(){return(0,h.r9)(y,_)}),[y,_]);return{filter:(0,s.L)({name:e,defaultValue:m(m(m({},b),w),n&&{limit:b.limitMobile})}),seo:N,pathname:P,isMainMicroCreditsPage:g,hasUtmLabel:S}}},90975:function(e){e.exports={wrapper:"styles_wrapper__36jP3",header:"styles_header__3BEle",phoneBlock:"styles_phoneBlock__1Wg2n",input:"styles_input__kjm1S",changePhone:"styles_changePhone__1LQIO",message:"styles_message__19qDV",content:"styles_content__2S89B",footer:"styles_footer__27NCy",text:"styles_text__2nnqX","footer-sticky":"styles_footer-sticky__M6m_h",button:"styles_button__3y6fP"}},48851:function(){},76627:function(e,n,t){e.exports=t(53462)},53462:function(e,n,t){"use strict";function r(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var i=t(67294),o=r(i),a=t(73935);t(45697);var u=r(t(41143));function l(){return(l=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e}).apply(this,arguments)}function s(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}function c(e){return requestAnimationFrame(e)}function f(e){cancelAnimationFrame(e)}function d(e){var n=e.ownerDocument;return n.hasFocus()&&n.activeElement===e}function v(e){return null==e?void 0:e.ownerDocument}function h(e){return i.useCallback((function(){var n=e.current,t="undefined"!=typeof window&&function(e){var n=function(e){var n;return null==(n=v(e))?void 0:n.defaultView}(e);return!!n&&e instanceof n.HTMLElement}(n);if(!n||!t)return null;if("INPUT"!==n.nodeName&&(n=n.querySelector("input")),!n)throw new Error("react-input-mask: inputComponent doesn't contain input node");return n}),[e])}function p(e,n){var t,r,o,a,u=i.useRef({start:null,end:null}),l=h(e),s=i.useCallback((function(){return function(e){var n=e.selectionStart,t=e.selectionEnd;return{start:n,end:t,length:t-n}}(l())}),[l]),v=i.useCallback((function(){return u.current}),[]),p=i.useCallback((function(e){var n=l();n&&d(n)&&(function(e,n,t){void 0===t&&(t=n),e.setSelectionRange(n,t)}(n,e.start,e.end),u.current=s())}),[l,s]),g=i.useCallback((function(){u.current=s()}),[s]),m=(t=g,r=i.useRef(null),o=i.useCallback((function(){null===r.current&&function e(){t(),r.current=c(e)}()}),[t]),a=i.useCallback((function(){f(r.current),r.current=null}),[]),i.useEffect((function(){r.current&&(a(),o())}),[o,a]),i.useEffect(f,[]),[o,a]),E=m[0],b=m[1];return i.useLayoutEffect((function(){if(n){var e=l();return e.addEventListener("focus",E),e.addEventListener("blur",b),d(e)&&E(),function(){e.removeEventListener("focus",E),e.removeEventListener("blur",b),b()}}})),{getSelection:s,getLastSelection:v,setSelection:p}}function g(e,n){var t=i.useRef(),r=p(t,n),o=r.getSelection,a=r.getLastSelection,u=r.setSelection,l=function(e,n){var t=h(e),r=i.useRef(n);return{getValue:i.useCallback((function(){return t().value}),[t]),getLastValue:i.useCallback((function(){return r.current}),[]),setValue:i.useCallback((function(e){r.current=e;var n=t();n&&(n.value=e)}),[t])}}(t,e),s=l.getValue,c=l.getLastValue,f=l.setValue;return{inputRef:t,getInputState:function(){return{value:s(),selection:o()}},getLastInputState:function(){return{value:c(),selection:a()}},setInputState:function(e){var n=e.value,t=e.selection;f(n),u(t)}}}t(42473);var m=["disabled","onBlur","onChange","onFocus","onMouseDown","readOnly","value"],E={9:/[0-9]/,a:/[A-Za-z]/,"*":/[A-Za-z0-9]/},b=function(e){var n=this;this.isCharacterAllowedAtPosition=function(e,t){var r=n.maskOptions.maskPlaceholder;return!!n.isCharacterFillingPosition(e,t)||!!r&&r[t]===e},this.isCharacterFillingPosition=function(e,t){var r=n.maskOptions.mask;if(!e||t>=r.length)return!1;if(!n.isPositionEditable(t))return r[t]===e;var i=r[t];return new RegExp(i).test(e)},this.isPositionEditable=function(e){var t=n.maskOptions,r=t.mask,i=t.permanents;return e<r.length&&-1===i.indexOf(e)},this.isValueEmpty=function(e){return e.split("").every((function(e,t){return!n.isPositionEditable(t)||!n.isCharacterFillingPosition(e,t)}))},this.isValueFilled=function(e){return n.getFilledLength(e)===n.maskOptions.lastEditablePosition+1},this.getDefaultSelectionForValue=function(e){var t=n.getFilledLength(e),r=n.getRightEditablePosition(t);return{start:r,end:r}},this.getFilledLength=function(e){return function(e,n){for(var t=e.length-1;t>=0;t--)if(n(e[t],t))return t;return-1}(e.split(""),(function(e,t){return n.isPositionEditable(t)&&n.isCharacterFillingPosition(e,t)}))+1},this.getStringFillingLengthAtPosition=function(e,t){return e.split("").reduce((function(e,t){return n.insertCharacterAtPosition(e,t,e.length)}),function(e,n){void 0===n&&(n=1);for(var t="",r=0;r<n;r++)t+=" ";return t}(0,t)).length-t},this.getLeftEditablePosition=function(e){for(var t=e;t>=0;t--)if(n.isPositionEditable(t))return t;return null},this.getRightEditablePosition=function(e){for(var t=n.maskOptions.mask,r=e;r<t.length;r++)if(n.isPositionEditable(r))return r;return null},this.formatValue=function(e){var t=n.maskOptions,r=t.maskPlaceholder,i=t.mask;if(!r){for(e=n.insertStringAtPosition("",e,0);e.length<i.length&&!n.isPositionEditable(e.length);)e+=i[e.length];return e}return n.insertStringAtPosition(r,e,0)},this.clearRange=function(e,t,r){if(!r)return e;var i=t+r,o=n.maskOptions,a=o.maskPlaceholder,u=o.mask,l=e.split("").map((function(e,r){var o=n.isPositionEditable(r);return!a&&r>=i&&!o?"":r<t||r>=i?e:o?a?a[r]:"":u[r]})).join("");return n.formatValue(l)},this.insertCharacterAtPosition=function(e,t,r){var i=n.maskOptions,o=i.mask,a=i.maskPlaceholder;if(r>=o.length)return e;var u=n.isCharacterAllowedAtPosition(t,r),l=n.isPositionEditable(r),s=n.getRightEditablePosition(r),c=a&&s?t===a[s]:null,f=e.slice(0,r);return!u&&l||(e=f+(u?t:o[r])),u||l||c||(e=n.insertCharacterAtPosition(e,t,r+1)),e},this.insertStringAtPosition=function(e,t,r){var i=n.maskOptions,o=i.mask,a=i.maskPlaceholder;if(!t||r>=o.length)return e;var u=t.split(""),l=n.isValueFilled(e)||!!a,s=e.slice(r);return e=u.reduce((function(e,t){return n.insertCharacterAtPosition(e,t,e.length)}),e.slice(0,r)),l?e+=s.slice(e.length-r):n.isValueFilled(e)?e+=o.slice(e.length).join(""):e=s.split("").filter((function(e,t){return n.isPositionEditable(r+t)})).reduce((function(e,t){var r=n.getRightEditablePosition(e.length);return null===r?e:(n.isPositionEditable(e.length)||(e+=o.slice(e.length,r).join("")),n.insertCharacterAtPosition(e,t,e.length))}),e),e},this.processChange=function(e,t){var r=n.maskOptions,i=r.mask,o=r.prefix,a=r.lastEditablePosition,u=e.value,l=e.selection,s=t.value,c=t.selection,f=u,d="",v=0,h=0,p=Math.min(c.start,l.start);return l.end>c.start?(d=f.slice(c.start,l.end),h=(v=n.getStringFillingLengthAtPosition(d,p))?c.length:0):f.length<s.length&&(h=s.length-f.length),f=s,h&&(1!==h||c.length||(p=c.start===l.start?n.getRightEditablePosition(l.start):n.getLeftEditablePosition(l.start)),f=n.clearRange(f,p,h)),f=n.insertStringAtPosition(f,d,p),(p+=v)>=i.length?p=i.length:p<o.length&&!v?p=o.length:p>=o.length&&p<a&&v&&(p=n.getRightEditablePosition(p)),{value:f=n.formatValue(f),enteredString:d,selection:{start:p,end:p}}},this.maskOptions=function(e){var n=e.mask,t=e.maskPlaceholder,r=[];if(!n)return{maskPlaceholder:null,mask:null,prefix:null,lastEditablePosition:null,permanents:[]};if("string"==typeof n){var i=!1,o="";n.split("").forEach((function(e){i||"\\"!==e?(!i&&E[e]||r.push(o.length),o+=e,i=!1):i=!0})),n=o.split("").map((function(e,n){return-1===r.indexOf(n)?E[e]:e}))}else n.forEach((function(e,n){"string"==typeof e&&r.push(n)}));t&&(t=1===t.length?n.map((function(e,n){return-1!==r.indexOf(n)?e:t})):t.split(""),r.forEach((function(e){t[e]=n[e]})),t=t.join(""));for(var a=r.filter((function(e,n){return e===n})).map((function(e){return n[e]})).join(""),u=n.length-1;-1!==r.indexOf(u);)u--;return{maskPlaceholder:t,prefix:a,mask:n,lastEditablePosition:u,permanents:r}}(e)},k=function(e){function n(){return e.apply(this,arguments)||this}return function(e,n){e.prototype=Object.create(n.prototype),e.prototype.constructor=e,function(e,n){for(var t=Object.getOwnPropertyNames(n),r=0;r<t.length;r++){var i=t[r],o=Object.getOwnPropertyDescriptor(n,i);o&&o.configurable&&void 0===e[i]&&Object.defineProperty(e,i,o)}}(e,n)}(n,e),n.prototype.render=function(){var e=this.props,n=e.children,t=s(e,["children"]);return o.cloneElement(n,t)},n}(o.Component),O=i.forwardRef((function(e,n){var t=e.alwaysShowMask,r=e.children,f=e.mask,p=e.maskPlaceholder,E=e.beforeMaskedStateChange,O=s(e,["alwaysShowMask","children","mask","maskPlaceholder","beforeMaskedStateChange"]);!function(e){var n=e.mask,t=e.maskPlaceholder;n&&t&&1!==t.length&&t.length!==n.length&&u(!1)}(e);var w,y,P=new b({mask:f,maskPlaceholder:p}),S=!!f,C=!O.disabled&&!O.readOnly,D=null!==e.value&&void 0!==e.value,_=(w=S,y=i.useRef(),i.useEffect((function(){y.current=w})),y.current),N=g(function(e){return""+e}((D?e.value:e.defaultValue)||""),S),j=N.inputRef,x=N.getInputState,V=N.setInputState,L=N.getLastInputState,A=h(j);if(S&&D){var R=A(),F=R&&d(R)||t||e.value?P.formatValue(e.value):e.value;E&&(F=E({nextState:{value:F,selection:{start:null,end:null}}}).value),V(l({},L(),{value:F}))}var I=L(),M=I.selection,B=I.value;i.useLayoutEffect((function(){if(S){var e=d(A()),n=M,r=x(),i=l({},r);if(!D){var o=r.value,a=P.formatValue(o),u=P.isValueEmpty(a);!u||e||t?i.value=a:u&&!e&&(i.value="")}e&&!_?i.selection=P.getDefaultSelectionForValue(i.value):D&&e&&n&&null!==n.start&&null!==n.end&&(i.selection=n),E&&(i=E({currentState:r,nextState:i})),V(i)}}));var T=l({},O,{onFocus:function(n){j.current=n.target;var t=x().value;if(S&&!P.isValueFilled(t)){var r=P.formatValue(t),i=P.getDefaultSelectionForValue(r),o={value:r,selection:i};E&&(r=(o=E({currentState:x(),nextState:o})).value,i=o.selection),V(o),r!==t&&e.onChange&&e.onChange(n),c((function(){V(L())}))}e.onFocus&&e.onFocus(n)},onBlur:function(n){var r=x().value,i=L().value;if(S&&!t&&P.isValueEmpty(i)){var o="",a={value:o,selection:{start:null,end:null}};E&&(o=(a=E({currentState:x(),nextState:a})).value),V(a),o!==r&&e.onChange&&e.onChange(n)}e.onBlur&&e.onBlur(n)},onChange:S&&C?function(n){var t=x(),r=L(),i=P.processChange(t,r);E&&(i=E({currentState:t,previousState:r,nextState:i})),V(i),e.onChange&&e.onChange(n)}:e.onChange,onMouseDown:S&&C?function(n){var t=A(),r=x().value,i=v(t);if(!d(t)&&!P.isValueFilled(r)){var o=n.clientX,a=n.clientY,u=(new Date).getTime();i.addEventListener("mouseup",(function e(n){if(i.removeEventListener("mouseup",e),d(t)){var r=Math.abs(n.clientX-o),s=Math.abs(n.clientY-a),c=Math.max(r,s),f=(new Date).getTime()-u;if(c<=10&&f<=200||c<=5&&f<=300){var v=L(),h=l({},v,{selection:P.getDefaultSelectionForValue(v.value)});V(h)}}}))}e.onMouseDown&&e.onMouseDown(n)}:e.onMouseDown,ref:function(e){j.current=a.findDOMNode(e),function(e){return"function"==typeof e}(n)?n(e):null!==n&&"object"==typeof n&&(n.current=e)},value:S&&D?B:e.value});return r?(function(e,n){m.filter((function(t){return null!=n.props[t]&&n.props[t]!==e[t]})).length&&u(!1)}(e,r),o.createElement(k,T,r)):o.createElement("input",T)}));O.displayName="InputMask",O.defaultProps={alwaysShowMask:!1,maskPlaceholder:"_"},e.exports=O},42473:function(e){"use strict";var n=function(){};e.exports=n}}]);